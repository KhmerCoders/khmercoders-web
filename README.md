# KhmerCoders Official Website

Welcome to KhmerCoders

## Prerequisites

- Node.js
- D1 Database
- Github Oauth2 Application

### Environment Setup

Copy `.env.example` to `.env`

Fill in the required environment variables:

```text
# Cloudflare (To use apply database migrations remotely)
CLOUDFLARE_ACCOUNT_ID=
CLOUDFLARE_DATABASE_ID=
CLOUDFLARE_D1_TOKEN=
```

Learn more: <https://orm.drizzle.team/docs/guides/d1-http-with-drizzle-kit>

```text
# BetterAuth (BetterAuth used this internally)
BETTER_AUTH_SECRET=
BETTER_AUTH_URL=
```

Learn more: <https://www.better-auth.com/docs/installation#set-environment-variables>

```text
# Github (For Oauth2)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
NEXTJS_ENV=
```

Learn more: <https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/creating-an-oauth-app>

Install dependencies

```bash
npm install
```

Run for local development

```bash
npm run dev
```

### Database Setup

⚠️ Make sure you have your Cloudflare environment variables set up correctly before generating migrations. The `CLOUDFLARE_ACCOUNT_ID`, `CLOUDFLARE_DATABASE_ID`, and `CLOUDFLARE_D1_TOKEN` must be configured in your `.env` file.

Generate database migrations file

```bash
npm run db:generate
```

Apply database migrations locally

```bash
npm run db:migrate
```

Apply database migrations to production

```bash
npm run db:migrate:prod
```

## Folder Structure

`src`

- NextJS `src` Directory: <https://nextjs.org/docs/app/building-your-application/configuring/src-directory>

`src/components`

- Atomic Design: <https://atomicdesign.bradfrost.com/chapter-2/>

`src/components/generated`
Components generated by v0 for references, should be kept seperately from human code

